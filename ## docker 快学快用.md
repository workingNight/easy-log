## docker  快学





### 第一印象

一个容器

不是传统的硬件虚拟化，直接运行在宿主机内核上。



Docker 由**镜像**(Image)、**容器**(Container)、**仓库**(Repository) 三部分组成。

docker的镜像就像是它的文件系统

用dockerfile文件文件来构建镜像，可以让镜像具备可重复性，同时保证启动脚本和运行程序的标准化。、

编写好文件之后，通过docker build命令进行构建



DevOps。开发/运维, 开发自己运维

 瀑布-> 敏捷开发



### 为什么要学docker

云计算时代，docker,go。5G时代





### 镜像

理解，类似操作系统的启动文件，镜像都是静态文件，构建后不再改变。分层存储架构，每一层都是在下面层次的基础上构建。

类比为模板，类。容器就是实例对象。容器是用镜像创建的运行实例

可以把容器看作是一个简易版的linux环境和运行在其中的应用程序，容器的最上面一层是可读可写的

仓库，放了一堆镜像的地方，类比github 



### 容器

镜像（`Image`）和容器（`Container`）的关系，就像是面向对象程序设计中的 `类` 和 `实例` 一样，镜像是静态的定义，容器是镜像运行时的实体。容器可以被创建、启动、停止、删除、暂停等。

容器不应该向其存储层内写入任何数据，容器存储层要保持无状态化

直接对宿主（或网络存储）发生读写，其性能和稳定性更高

### 仓库

需要在其它服务器上使用这个镜像，我们就需要一个集中的存储、分发镜像的服务，[Docker Registry]() 就是这样的服务





### 方向:

区块链  go语言 

Docker  Go   Swarm/Componse/Machine/mesos/k8s ---CI/CD jenkins整合



docker。集群

打破过去程序及应用的观念，透过镜像将作业系统核心除外的运行程序所需的系统的环境，**由上而下**打包，达到应用程序式跨平台间的无缝衔接。一次构建处处运行

解决了运行环境和配置问题软件容器，方便做持续集成并有助于整体发布的容器虚拟化技术





docker的优点：基于容器的虚拟化，仅包含业务运行所需的runtime环境，centos基础镜像仅170M，宿主机可部署100-1000个容器。分层的存储和包管理，devops理念





### **安装**

yum  install -y  epel-release 

-y自动选择，不用再进行一次确认，全自动

安装  docker-io

/etc/docker/daemon.json 修改配置来使用阿里云加速器

检查是否生效

ps -ef | grep docker

e内容   f全格式

docker run imgxx  本地没有会去hub上找一个镜像



### 工作原理

 docker是一个client-server 结构的系统，docker守护进程运行在主机上，然后通过socket链接从客户端访问，守护进程从客户端接受命令并管理运行在主机上的容器。容器是一个运行时环境，就是我们前面说的集装箱

快：更少的抽象层，跟操作系统内核直接通信，不需要和向虚拟机一样重新加载一个操作系统内核。和宿主机共享cpu